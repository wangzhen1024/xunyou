<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div id="rightsList">

    <table class="rights-table">
        <tbody><tr>
            <td width="16px"><input id="rights3" name="rightsCB" type="checkbox"></td>
            <td id="rightsName3" class="rightsName" colspan="3" style="color: rgb(0, 0, 0);">编辑频道信息(公告，语音模式，子频道设置，模版)</td>

        </tr>
        <tr>
            <td width="16px"><input id="rights29" name="rightsCB" type="checkbox"></td>
            <td id="rightsName29" class="rightsName" width="45%" style="color: rgb(0, 0, 0);">发送频道广播</td>
            <td width="16px"><input id="rights40" name="rightsCB" type="checkbox"></td>
            <td id="rightsName40" class="rightsName" width="45%" style="color: rgb(0, 0, 0);">发送语音频道广播</td>
        </tr>
        <tr>
            <td><input id="rights1" name="rightsCB" type="checkbox"></td>
            <td id="rightsName1" class="rightsName" width="45%" style="color: rgb(0, 0, 0);">创建子频道</td>
            <td><input id="rights2" name="rightsCB" type="checkbox"></td>
            <td id="rightsName2" class="rightsName" width="45%" style="color: rgb(0, 0, 0);">删除子频道</td>
        </tr>

        </tbody></table>
    <div class="sepDiv"></div>
    <table class="rights-table">
        <tbody><tr>
            <td width="16px"><input id="rights5" name="rightsCB" type="checkbox" disabled=""></td>
            <td width="45%" id="rightsName5" class="rightsName" style="color: rgb(154, 154, 154);">撤销管理员(MA)</td>
            <td width="16px"><input id="rights30" name="rightsCB" type="checkbox"></td>
            <td id="rightsName30" class="rightsName" width="45%" style="color: rgb(0, 0, 0);">频道人数限制</td>
        </tr>
        <tr>
            <td><input id="rights6" name="rightsCB" type="checkbox"></td>
            <td id="rightsName6" class="rightsName" style="color: rgb(0, 0, 0);">添加子频道管理员(CA)</td>
            <td><input id="rights7" name="rightsCB" type="checkbox"></td>
            <td id="rightsName7" class="rightsName" style="color: rgb(0, 0, 0);">撤销子频道管理员(CA)</td>
        </tr>
        <tr>
            <td><input id="rights8" name="rightsCB" type="checkbox"></td>
            <td id="rightsName8" class="rightsName" style="color: rgb(0, 0, 0);">添加会员</td>
            <td><input id="rights9" name="rightsCB" type="checkbox"></td>
            <td id="rightsName9" class="rightsName" style="color: rgb(0, 0, 0);">撤销会员</td>
        </tr>
        <tr>
            <td><input id="rights10" name="rightsCB" type="checkbox"></td>
            <td id="rightsName10" class="rightsName" style="color: rgb(0, 0, 0);">添加嘉宾</td>
            <td><input id="rights11" name="rightsCB" type="checkbox"></td>
            <td id="rightsName11" class="rightsName" style="color: rgb(0, 0, 0);">撤销嘉宾</td>
        </tr>
        <tr>
            <td><input id="rights12" name="rightsCB" type="checkbox"></td>
            <td id="rightsName12" class="rightsName" style="color: rgb(0, 0, 0);">添加临时嘉宾</td>
            <td><input id="rights13" name="rightsCB" type="checkbox"></td>
            <td id="rightsName13" class="rightsName" style="color: rgb(0, 0, 0);">撤销临时嘉宾</td>
        </tr>
        </tbody></table>
    <div class="sepDiv"></div>
    <table class="rights-table">
        <tbody><tr>
            <td><input id="rights14" name="rightsCB" type="checkbox"></td>
            <td width="45%" id="rightsName14" class="rightsName" style="color: rgb(0, 0, 0);">封ID/封IP</td>
            <td><input id="rights16" name="rightsCB" type="checkbox"></td>
            <td width="45%" id="rightsName16" class="rightsName" style="color: rgb(0, 0, 0);">踢出用户</td>
        </tr>

        <tr>
            <td><input id="rights35" name="rightsCB" type="checkbox"></td>
            <td id="rightsName35" class="rightsName" style="color: rgb(0, 0, 0);">单人调度</td>
            <td><input id="rights36" name="rightsCB" type="checkbox"></td>
            <td id="rightsName36" class="rightsName" style="color: rgb(0, 0, 0);">批量调度</td>
        </tr>
        <tr>

            <td><input id="rights31" name="rightsCB" type="checkbox"></td>
            <td id="rightsName31" class="rightsName" style="color: rgb(0, 0, 0);">解封ID/IP</td>
            <td><input id="rights33" name="rightsCB" type="checkbox"></td>
            <td id="rightsName33" class="rightsName" style="color: rgb(0, 0, 0);">自由发言/播放伴奏</td>
        </tr>
        <tr>
            <td><input id="rights19" name="rightsCB" type="checkbox"></td>
            <td id="rightsName19" class="rightsName" style="color: rgb(0, 0, 0);">麦序管理</td>
            <td><input id="rightsrl" name="rightsrl" type="checkbox"></td>
            <td id="rightsNamerl" class="rightsName" style="color: rgb(0, 0, 0);">投票/抢板凳/摇骰子</td>
        </tr>
        <tr>
            <td><input id="rights37" name="rightsCB" type="checkbox"></td>
            <td id="rightsName37" class="rightsName" style="color: rgb(0, 0, 0);">设置按键发言</td>
        </tr>
        <tr>
            <td><input id="rights61" name="rightsCB" type="checkbox" disabled=""></td>
            <td id="rightsName61" class="rightsName" style="color: rgb(154, 154, 154);">实时管理</td>
            <td><input id="rights62" name="rightsCB" type="checkbox" disabled=""></td>
            <td id="rightsName62" class="rightsName" style="color: rgb(154, 154, 154);">手动管理</td>
        </tr>
        <tr>
            <td><input id="rights63" name="rightsCB" type="checkbox" disabled=""></td>
            <td id="rightsName63" class="rightsName" style="color: rgb(154, 154, 154);">关键词过滤</td>
            <td><input id="rights41" name="rightsCB" type="checkbox" disabled=""></td>
            <td id="rightsName41" class="rightsName" style="color: rgb(154, 154, 154);">用户秩序</td>
        </tr>
        </tbody></table>

    <table id="btnGroup">
        <tbody><tr><td width="120"><button type="button" class="btn3 bgcolor1" id="setDefaultBtn" onclick="setDefaultClick()">恢复默认权限</button></td>
            <td><button class="btn3 bgcolor1" type="button" id="commitBtn" onclick="commitChange()">提交修改</button></td></tr>
        </tbody></table>

    <table width="95%" style="margin-top:20px;margin-left:5px">
        <tbody><tr>
            <td style="line-height:20px" valign="top" width="12">*</td>
            <td style="line-height:20px" align="left">灰色选项为系统预定义权限规则，不允许OW自定义！<br>修改权限时需要您正确输入频道管理密码才能提交。</td>
        </tr>
        </tbody></table>

</div>

<script>
    /**
     * 提交权限修改
     */
    function commitChange(){
       var rightsChangedList = [];
       var checkBoxs = $("input[name='rightsCB']");

             $.each(checkBoxs,
                function(n,value){
                    if(!value.disabled){
                        var id = value.id;
                        var index = id.substring(id.indexOf("s")+1,id.length);
                        var enabed = value.checked?0:1;
                        rightsChangedList.push(index+":"+enabed);
                    }
                }
            );
            var rightsChangedStr = rightsChangedList.join(",");
            var rightsrl = $('#rightsrl').is(':checked') ? 0 : 1;
            updateRight(rightsChangedStr);
    }

    function updateRight(rightsChangedStr){
        url = "localhost:8080/test/" + rightsChangedStr;
        alert(url);

        $.ajax({
            type : "GET",
            url : url,
            dataType : "json",
            success : function(json) {
                alert("返回");
            }
        });
        alert("结束");

    }




</script>
<script src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js"></script>
<!--<script type="text/javascript" src="js/jquery.min.js"></script>-->
</body>
</html>